<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GWJGMNS3XR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-GWJGMNS3XR');
</script>
  
  <title>SQL Server Developing SQL Databases | The Skeptical Software Engineer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="ç­†è¨˜ 20762 - Developing SQL Server å­¸ç¿’å¿ƒå¾—ä»¥åŠåæ€å…·é«”å¯ä»¥ç”¨æ–¼è³‡æ–™åº«é–‹ç™¼èˆ‡ç®¡ç†çš„å¯¦è¸ã€‚é …ç›®åŒ…å«è³‡æ–™åº«å£“ç¸®ã€ç´¢å¼•è¨­è¨ˆã€ç´¢å¼•æª¢è¦–è¡¨ã€In-Memory Databaseã€FileStream ä»¥åŠå„ç¨®è³‡æ–™åº«ç‰©ä»¶çš„éˆæ´»ä½¿ç”¨ï¼Œè®“ç³»çµ±é–‹ç™¼èƒ½å¤ èˆ‡è³‡æ–™åº«æ‡‰ç”¨æœ‰æ›´å¥½çš„çµåˆã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="SQL Server Developing SQL Databases">
<meta property="og:url" content="https://sdwh.dev/posts/2021/11/SQL-Server-Developing-SQL-Databases/index.html">
<meta property="og:site_name" content="The Skeptical Software Engineer">
<meta property="og:description" content="ç­†è¨˜ 20762 - Developing SQL Server å­¸ç¿’å¿ƒå¾—ä»¥åŠåæ€å…·é«”å¯ä»¥ç”¨æ–¼è³‡æ–™åº«é–‹ç™¼èˆ‡ç®¡ç†çš„å¯¦è¸ã€‚é …ç›®åŒ…å«è³‡æ–™åº«å£“ç¸®ã€ç´¢å¼•è¨­è¨ˆã€ç´¢å¼•æª¢è¦–è¡¨ã€In-Memory Databaseã€FileStream ä»¥åŠå„ç¨®è³‡æ–™åº«ç‰©ä»¶çš„éˆæ´»ä½¿ç”¨ï¼Œè®“ç³»çµ±é–‹ç™¼èƒ½å¤ èˆ‡è³‡æ–™åº«æ‡‰ç”¨æœ‰æ›´å¥½çš„çµåˆã€‚">
<meta property="og:locale">
<meta property="og:image" content="https://sdwh.dev/assets/SQL-Server-Logo.svg">
<meta property="og:image" content="https://sdwh.dev/assets/SQL-Server-In-Memory-Table-1.png">
<meta property="og:image" content="https://sdwh.dev/assets/SQL-Server-In-Memory-Table-2.png">
<meta property="og:image" content="https://i.imgur.com/ooTIL6s.png">
<meta property="article:published_time" content="2021-11-27T11:58:56.000Z">
<meta property="article:modified_time" content="2023-04-01T12:13:24.940Z">
<meta property="article:author" content="Webber">
<meta property="article:tag" content="Database">
<meta property="article:tag" content="SQLServer">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://sdwh.dev/assets/SQL-Server-Logo.svg">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap');
  </style>
  
    
      <link rel="icon" href="/assets/favicon.ico">
      
      
        
<link rel="stylesheet" href="/css/style.css">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/themes/prism-okaidia.min.css"/>
<meta name="generator" content="Hexo 6.0.0"><link rel="alternate" href="/atom.xml" title="The Skeptical Software Engineer" type="application/atom+xml">
</head>
      
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">The Skeptical Software Engineer</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/categories">Categories</a>
        
          <a class="main-nav-link" href="/tags">Tags</a>
        
          <a class="main-nav-link" href="/apps">Apps</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" href="/search/" style="margin-right: 15px;"></a>
      </nav>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-SQL-Server-Developing-SQL-Databases" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/posts/2021/11/SQL-Server-Developing-SQL-Databases/" class="article-date">
  <time datetime="2021-11-27T11:58:56.000Z" itemprop="datePublished">2021-11-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Database/">Database</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      SQL Server Developing SQL Databases
    </h1>
  

      </header>
    
    <hr />
    <div class="article-entry" itemprop="articleBody">

      
        
    <div id="toc" class="toc-article">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AA%AA%E6%98%8E"><span class="toc-text">èªªæ˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A8%AD%E8%A8%88%E5%92%8C%E5%AF%A6%E6%96%BD%E8%A1%A8"><span class="toc-text">è¨­è¨ˆå’Œå¯¦æ–½è¡¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%B2%E9%9A%8E%E8%B3%87%E6%96%99%E8%A1%A8%E8%A8%AD%E8%A8%88"><span class="toc-text">é€²éšè³‡æ–™è¡¨è¨­è¨ˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B3%87%E6%96%99%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-text">è³‡æ–™å®Œæ•´æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Indexs-Design"><span class="toc-text">Indexs Design</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Columnstore-Index"><span class="toc-text">Columnstore Index</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#View-Deisgn"><span class="toc-text">View Deisgn</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#System-View"><span class="toc-text">System View</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Indexed-View"><span class="toc-text">Indexed View</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Partition-View"><span class="toc-text">Partition View</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Stored-Procedure"><span class="toc-text">Stored Procedure</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#User-Defined-Function"><span class="toc-text">User Defined Function</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Trigger"><span class="toc-text">Trigger</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#In-Memory-Table"><span class="toc-text">In-Memory Table</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-Server-FileStream"><span class="toc-text">SQL Server FileStream</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-Server-Concurrency"><span class="toc-text">SQL Server Concurrency</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%B7%E7%9F%A5%E8%AD%98"><span class="toc-text">å†·çŸ¥è­˜</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Terms"><span class="toc-text">Terms</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B3%87%E6%96%99%E5%BA%AB%E7%89%A9%E4%BB%B6"><span class="toc-text">è³‡æ–™åº«ç‰©ä»¶</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%B8%E9%97%9C%E9%80%A3%E7%B5%90"><span class="toc-text">ç›¸é—œé€£çµ</span></a></li></ol>
    </div>
  
  
        <hr/>
        <p>ç­†è¨˜ 20762 - Developing SQL Server å­¸ç¿’å¿ƒå¾—ä»¥åŠåæ€å…·é«”å¯ä»¥ç”¨æ–¼è³‡æ–™åº«é–‹ç™¼èˆ‡ç®¡ç†çš„å¯¦è¸ã€‚é …ç›®åŒ…å«è³‡æ–™åº«å£“ç¸®ã€ç´¢å¼•è¨­è¨ˆã€ç´¢å¼•æª¢è¦–è¡¨ã€In-Memory Databaseã€FileStream ä»¥åŠå„ç¨®è³‡æ–™åº«ç‰©ä»¶çš„éˆæ´»ä½¿ç”¨ï¼Œè®“ç³»çµ±é–‹ç™¼èƒ½å¤ èˆ‡è³‡æ–™åº«æ‡‰ç”¨æœ‰æ›´å¥½çš„çµåˆã€‚</p>
<a href="/posts/2021/11/SQL-Server-Developing-SQL-Databases/" title="SQL Server Logo" class="fancybox" rel="article0">
  <img src="/assets/SQL-Server-Logo.svg" alt="SQL Server Logo" width="120px">
</a>

<span id="more"></span>

<h2 id="èªªæ˜"><a href="#èªªæ˜" class="headerlink" title="èªªæ˜"></a>èªªæ˜</h2><h3 id="è¨­è¨ˆå’Œå¯¦æ–½è¡¨"><a href="#è¨­è¨ˆå’Œå¯¦æ–½è¡¨" class="headerlink" title="è¨­è¨ˆå’Œå¯¦æ–½è¡¨"></a>è¨­è¨ˆå’Œå¯¦æ–½è¡¨</h3><p>åƒè€ƒ AdventureWorks çš„è³‡æ–™åº«ç‰©ä»¶å‘½åæ…£ä¾‹ï¼š</p>
<ul>
<li>CamelCase</li>
<li>è³‡æ–™è¡¨ä¸åŠ  Prefix</li>
<li>å–„ç”¨ Schema ä¾†ç®¡ç†è³‡æ–™åº«ç‰©ä»¶</li>
</ul>
<table>
<thead>
<tr>
<th>Objects</th>
<th>Prefix</th>
<th>Example</th>
</tr>
</thead>
<tbody><tr>
<td>Table</td>
<td>Schema</td>
<td>HumanResources.Employee</td>
</tr>
<tr>
<td>View</td>
<td>v</td>
<td>Sales.vSalesPerson</td>
</tr>
<tr>
<td>Stored Procedure</td>
<td>ups</td>
<td>dbo.uspPrintError</td>
</tr>
<tr>
<td>Clustered Index</td>
<td>PK_</td>
<td>PK_Password_BusinessEntityID</td>
</tr>
<tr>
<td>NonClustered Index</td>
<td>IX_</td>
<td>IX_Person_LastName_FirstName_MiddleName</td>
</tr>
<tr>
<td>Pirmary Key</td>
<td>PK_</td>
<td>PK_Password_BusinessEntityID</td>
</tr>
<tr>
<td>Foreign Key</td>
<td>FK_</td>
<td>FK_Password_Person_BusinessEntityID</td>
</tr>
<tr>
<td>Functions</td>
<td>ufn</td>
<td>dbo.ufnGetContactInformation</td>
</tr>
</tbody></table>
<p>ğŸ’¡ é¿å…ä½¿ç”¨ Deprecated Data Types: text, ntext ç­‰<br>ğŸ’¡ Datetime2 è³‡æ–™æ¯” Datetime æ›´ç‚ºç²¾æº–</p>
<p>ğŸ¸ <strong>æª¢æŸ¥è³‡æ–™è¡¨çš„ç›¸ä¾é—œä¿‚</strong></p>
<p>ğŸ’¡ è‡¨æ™‚çš„è³‡æ–™è¡¨ <strong>tempdb</strong> æˆ–è€… <strong>@ è®Šæ•¸</strong></p>
<h3 id="é€²éšè³‡æ–™è¡¨è¨­è¨ˆ"><a href="#é€²éšè³‡æ–™è¡¨è¨­è¨ˆ" class="headerlink" title="é€²éšè³‡æ–™è¡¨è¨­è¨ˆ"></a>é€²éšè³‡æ–™è¡¨è¨­è¨ˆ</h3><p>ğŸ¸ <strong>Partition Table</strong></p>
<p>åˆ©ç”¨åˆ†æ•£æ–¼ä¸åŒç£å€çš„æª”æ¡ˆç¾¤çµ„ï¼Œå°‡è³‡æ–™è¡¨çš„è³‡æ–™åˆ—åˆ†æ•£åˆ°ä¸åŒçš„æª”æ¡ˆç¾¤çµ„ä¸­ã€‚ç”¨æ–¼å¢åŠ è³‡æ–™è®€å¯«é€Ÿåº¦ï¼Œä¸¦æ–¼ archive ç£å€çš„è³‡æ–™å¯ä»¥é™ä½å‚™ä»½é »ç‡ã€‚ä½†å¦‚æœè³‡æ–™åº«ä¼ºæœå™¨æ²’æœ‰è¾¦æ³•ä½¿ç”¨å¤šå€‹è®€é ­è®€å¯«ç£å€æ˜¯å¦ä»æœ‰ä½¿ç”¨åƒ¹å€¼ï¼Ÿ</p>
<p>éœ€è¦å…ˆåŠ å…¥ FileGroupï¼Œä¸¦è¨­è¨ˆ Partition Function ä»¥åŠ Partition Schema ä»¥é”åˆ° Partition Table çš„ä½œç”¨ã€‚</p>
<p>ğŸ¸ å£“ç¸®è³‡æ–™åº«</p>
<p>è³‡æ–™åº«çš„å£“ç¸®åŒ…å«<strong>å‚™ä»½å£“ç¸®</strong>ã€<strong>è³‡æ–™åº«å£“ç¸®</strong>ç”¨æ–¼é‡‹æ”¾ SQL Server ä½”æ“šç£ç¢Ÿä½†æœªä½¿ç”¨çš„ç©ºé–“ï¼Œæœ€å¾Œå‰‡æ˜¯<strong>è³‡æ–™è¡¨å£“ç¸®</strong>ã€‚</p>
<p>è³‡æ–™è¡¨å£“ç¸®ä¸æ˜¯ä¸€æ¬¡æ€§çš„è¨­å®šï¼Œè€Œæ˜¯æœƒå°‡è³‡æ–™è¡¨æ°¸é ä¿æŒåœ¨å£“ç¸®çš„æƒ…æ³ä¸‹ã€‚å„ªé»æ˜¯æ¸›å°‘å„²å­˜ç©ºé–“ï¼Œç¼ºé»æ˜¯è®€å–éœ€è¦é‹ç®—æ™‚é–“ã€‚</p>
<p>ğŸ¸ Temporal Tables</p>
<p>æ‡‰ç”¨ç¨‹å¼éœ€è¦å®¢è£½è¿½è¹¤è³‡æ–™è¡¨ç•°å‹•æƒ…å½¢çš„è§£æ±ºæ–¹æ¡ˆã€‚</p>
<h3 id="è³‡æ–™å®Œæ•´æ€§"><a href="#è³‡æ–™å®Œæ•´æ€§" class="headerlink" title="è³‡æ–™å®Œæ•´æ€§"></a>è³‡æ–™å®Œæ•´æ€§</h3><p>ğŸ’¡ ä½¿ç”¨ Check<br>ğŸ’¡ ä½¿ç”¨ Constraint</p>
<ul>
<li>Default Constraint</li>
<li>Primary Key Constraint</li>
<li>Identity Constraint</li>
<li>Foreign Key Constraint</li>
</ul>
<p>ğŸ¸ Foreign Key &amp; Cascading Referential Integrity</p>
<h3 id="Indexs-Design"><a href="#Indexs-Design" class="headerlink" title="Indexs Design"></a>Indexs Design</h3><p>è³‡æ–™è¡¨çš„è³‡æ–™åˆ—ä¿å­˜æ–¹å¼æ˜¯ä»¥ 8K Data Page é€²è¡Œä¿å­˜ï¼Œåœ¨æ²’æœ‰å¢é›†ç´¢å¼•çš„æƒ…æ³ä¸‹ï¼Œè³‡æ–™è¡¨æœƒä»¥ Heap çš„æ–¹å¼ä¿å­˜ï¼Œå…¶ä¸­å­è‘‰ç‚º Data Pageã€‚è€Œå¦‚æœæœ‰å¢é›†ç´¢å¼•ï¼Œå‰‡æœƒæŒ‰å¢é›†ç´¢å¼•çš„æ–¹å¼ä¿å­˜ï¼Œå­è‘‰åŒæ¨£ç‚º Data Pageï¼Œå› æ­¤æ¯å¼µè³‡æ–™è¡¨åªèƒ½æœ‰ä¸€å€‹å¢é›†ç´¢å¼•ï¼ˆnvarchar(MAX) ç­‰é•·æ–‡è³‡æ–™ä¸æ˜¯ä¿å­˜åœ¨ 8K Data Pageï¼Œè€Œæ˜¯å¦æœ‰å°ˆé–€çš„è³‡æ–™ä¿å­˜æ–¹å¼ï¼‰ã€‚</p>
<p>è€Œè³‡æ–™è¡¨çš„éå¢é›†ç´¢å¼•å‰‡å¯ä»¥é«˜é” 999 å€‹ï¼Œå…¶å­è‘‰ç‚º Heap æˆ–è€…å¢é›†ç´¢å¼•çš„ Linkã€‚</p>
<p>è³‡æ–™è¡¨çš„ç´¢å¼•ï¼Œéœ€è¦è€ƒæ…®å¯¦éš›ä½¿ç”¨çš„ Query å»åšè¨­è¨ˆï¼Œè€Œç´¢å¼•å¸¶ä¾†æœ€å¤§çš„å¥½è™•å°±æ˜¯åœ¨æ­é…æ­£ç¢ºçš„ Query ä¹‹ä¸‹èƒ½å¤ æå‡æŸ¥è©¢çš„é€Ÿåº¦ï¼Œä½†ç´¢å¼•æœ¬èº«éœ€è¦å„²å­˜ç©ºé–“ï¼Œç´„ç‚ºè³‡æ–™è¡¨çš„ 40%ï¼Œä¸å¯ä¸è¬‚ä¸€ç­†æˆæœ¬ã€‚æ­¤å¤–ç´¢å¼•åœ¨è³‡æ–™å¯«å…¥ã€æ›´æ–°æ™‚æœƒåŒæ­¥æ”¹è®Šï¼Œå› æ­¤æœƒé€ æˆé¡å¤–çš„æ•ˆèƒ½éœ€æ±‚ã€‚åŒæ™‚ç´¢å¼•æœƒéš¨è‘—è³‡æ–™çš„ç•°å‹•æœ‰ç¢ç‰‡åŒ–çš„å•é¡Œç™¼ç”Ÿï¼Œå¿…é ˆå®šæœŸé‡çµ„ (ReOrganize) æˆ–è€…é‡å»ºç´¢å¼• (ReBuild)ã€‚</p>
<p>æŒ‰ç…§ç¶“é©—æ³•å‰‡ 30% ä»¥ä¸Šçš„ç¢ç‰‡åŒ– (Fragmentation) å°±éœ€è¦é€²è¡Œ ReBuildã€‚</p>
<p>ç´¢å¼•çš„è¨­è¨ˆä¸Šå¿…é ˆæ ¹æ“šå¯¦éš›ä½¿ç”¨æƒ…å½¢ï¼Œå¯é‡è¤‡åˆç´¢å¼• (Composite) æ­¤å¤–è¤‡åˆç´¢å¼•çš„ç´¢å¼•é †åºæœƒå½±éŸ¿æŸ¥è©¢é€Ÿåº¦ï¼Œ<strong>Include Column</strong> ä½œç‚ºè¤‡åˆç´¢å¼•çš„ç‰¹åˆ¥éœ€æ±‚è§£æ±ºæ–¹æ¡ˆã€‚</p>
<p>ä¸¦éå»ºç«‹ç´¢å¼• SQL Server å°±æœƒä½¿ç”¨ï¼ŒSQL Server æœ‰æ¼”ç®—æ©Ÿåˆ¶è©•ä¼°æ˜¯å¦ä½¿ç”¨ç´¢å¼•ï¼Œå¯ä»¥å¾åŸ·è¡Œè¨ˆç•«ä¸Šçœ‹åˆ° SQL Server æ˜¯å¦ä½¿ç”¨ç´¢å¼•ï¼Œå¦‚æœæ˜¯ <strong>SCAN</strong> å°±æ²’æœ‰ï¼Œ<strong>SEEK</strong> å‰‡æœ‰ã€‚éœ€è¦æ³¨æ„çš„æ˜¯å³ä½¿æ˜¯ <strong>SCAN</strong> ç´¢å¼•ï¼Œä¹Ÿæ˜¯æ²’æœ‰ä½¿ç”¨ç´¢å¼•çš„ï¼</p>
<p><strong>ä½¿ç”¨ Database Engine Tuning Advisor å¯ä»¥ç”±ç³»çµ±å»ºè­°é©åˆçš„ç´¢å¼•å»ºç«‹ã€‚</strong></p>
<p>ğŸ¸ <strong>é—œæ–¼ Fill Factor çš„è£œå……</strong></p>
<p>ğŸ¸ <strong>é—œæ–¼ Merge Join, Hash Match, Nested Loop çš„è£œå…… (6-20)</strong></p>
<div class="colorbox space">
    <div class="shadow">
        <div class="tab-info tab-icon"><i></i></div>
        <div class="colorbox-body">
            <p>ç´¢å¼•çš„ä»£åƒ¹åœ¨æ–¼å»ºç«‹æˆæœ¬ã€å„²å­˜ç©ºé–“èˆ‡ç¶­è­·æˆæœ¬<br/>ä¸é©åˆä½œç‚ºç´¢å¼•çš„æ¬„ä½æœ‰ä¸‹åˆ—ç‰¹æ€§ï¼šé‡è¤‡å€¼å¤ªå¤šã€ç¶“å¸¸ä¿®æ”¹ä»¥åŠé•·æ–‡é¡å‹è³‡æ–™ã€‚</p>
        </div>
    </div>
</div>


<h3 id="Columnstore-Index"><a href="#Columnstore-Index" class="headerlink" title="Columnstore Index"></a>Columnstore Index</h3><p>ä»¥æ¬„ä½çš„æ–¹å¼é€²è¡Œç´¢å¼•å»ºç«‹ï¼Œé©åˆè³‡æ–™å€‰å„²çš„æƒ…å¢ƒï¼Œå¯èƒ½æœ‰ç•°æƒ³ä¸åˆ°çš„æ•ˆèƒ½å„ªåŒ–åŠŸæ•ˆã€‚</p>
<h3 id="View-Deisgn"><a href="#View-Deisgn" class="headerlink" title="View Deisgn"></a>View Deisgn</h3><p>View å°‡è³‡æ–™æŸ¥è©¢èªå¥å°è£å¾Œæä¾›ä½¿ç”¨ï¼Œå¯ä»¥é™ç¸®ä½¿ç”¨çš„è³‡æ–™æ¬„ä½ï¼Œä¸¦ç”±å¤šå€‹è³‡æ–™è¡¨ã€è³‡æ–™ä¾†æºåšåˆä½µ (Join)ã€‚æŒ‰ç…§ AdeventrueWorks çš„ Naming Convention ä½¿ç”¨å°å¯« v ä½œç‚ºè‡ªé¦–ï¼Œåœ¨ä»¥ CamelCase çš„æ–¹å¼å‘½åï¼Œä¾‹å¦‚ vSalesPersonã€‚</p>
<h4 id="System-View"><a href="#System-View" class="headerlink" title="System View"></a>System View</h4><p>SQL Server é è¨­æä¾›äº†è±å¯Œå¥½ç”¨çš„ System Viewï¼ŒåŒ…æ‹¬ <strong>Catalog View</strong> ä»¥åŠ <strong>DMV ç³»åˆ—</strong>çš„ Viewï¼Œæä¾›å®¢è£½è³‡æ–™åº«ç®¡ç†ä¸Šæ‰€éœ€è¦çš„å„ç¨®æŸ¥è©¢æ–¹å¼ã€‚</p>
<p><strong>å¯¦ç”¨çš„ Catalog View</strong></p>
<table>
<thead>
<tr>
<th>Catalog</th>
<th>Level</th>
</tr>
</thead>
<tbody><tr>
<td>sys.sysconfigures</td>
<td>Server</td>
</tr>
<tr>
<td>sys.assemblies</td>
<td>Server</td>
</tr>
<tr>
<td>sys.databases</td>
<td>Server</td>
</tr>
<tr>
<td>sys.sql_logins</td>
<td>Server</td>
</tr>
<tr>
<td>sys.servers</td>
<td>Server</td>
</tr>
<tr>
<td>sys.linked_logins</td>
<td>Server</td>
</tr>
<tr>
<td>sys.sysusers</td>
<td>Database</td>
</tr>
<tr>
<td>sys.tables</td>
<td>Database</td>
</tr>
<tr>
<td>sys.database_files</td>
<td>Database</td>
</tr>
<tr>
<td>sys.filegroups</td>
<td>Database</td>
</tr>
<tr>
<td>sys.foreign_keys</td>
<td>Database</td>
</tr>
<tr>
<td>sys.default_constraints</td>
<td>Database</td>
</tr>
<tr>
<td>sys.key_constraints</td>
<td>Database</td>
</tr>
<tr>
<td>sys.check_constraints</td>
<td>Database</td>
</tr>
<tr>
<td>sys.all_views</td>
<td>Database</td>
</tr>
<tr>
<td>sys.all_columns</td>
<td>Database</td>
</tr>
</tbody></table>
<h4 id="Indexed-View"><a href="#Indexed-View" class="headerlink" title="Indexed View"></a>Indexed View</h4><p>å°‡ View å¯¦é«”åŒ–å„²å­˜æ–¼ç£ç¢Ÿç©ºé–“ï¼Œå¯ä»¥æå‡æŸ¥è©¢çš„æ•ˆç‡ï¼Œä½†æœƒæœ‰å¯«å…¥ã€æ›´æ–°çš„è³‡æ–™çš„é¡å¤–æˆæœ¬ï¼ŒåŒæ™‚ä¸æ˜¯æ‰€æœ‰çš„ View éƒ½èƒ½å»ºç«‹ç‚º Indexed Viewï¼Œé™åˆ¶åŒ…å«ï¼š</p>
<p>å¯¦éš›é©ç”¨çš„å ´æ™¯å¦‚ï¼š</p>
<ol>
<li>å½™æ•´å‡½æ•¸çš„ä½¿ç”¨</li>
<li>ç°¡å–®çš„å¤§é‡è³‡æ–™è¡¨ Join</li>
</ol>
<h4 id="Partition-View"><a href="#Partition-View" class="headerlink" title="Partition View"></a>Partition View</h4><p>å°‡åˆ†æ•£åœ¨å¤šå€‹ä¾†æºï¼ˆè³‡æ–™è¡¨ã€è³‡æ–™åº«ã€è³‡æ–™åº«ä¼ºæœå™¨ï¼‰çš„è³‡æ–™è¡¨ï¼Œåˆ©ç”¨ UNION ALL çµåˆç‚º Viewï¼Œæä¾›å–®ä¸€çš„å­˜å–ä»‹é¢ã€‚</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">Create</span> <span class="token keyword">View</span> vPartitionView
<span class="token keyword">AS</span>
  <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Server1<span class="token punctuation">.</span>MIS<span class="token punctuation">.</span>Person
  <span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
  <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Server1<span class="token punctuation">.</span>FINANCE<span class="token punctuation">.</span>Person
  <span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
  <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Server2<span class="token punctuation">.</span>SALES<span class="token punctuation">.</span>Person<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="Stored-Procedure"><a href="#Stored-Procedure" class="headerlink" title="Stored Procedure"></a>Stored Procedure</h3><p>Stored Procedure å°‡è³‡æ–™åº« CRUD çš„å‹•ä½œå°è£èµ·ä¾†é‡è¤‡ä½¿ç”¨ï¼Œä¸¦å¯ä»¥è§£æ±ºä¸‹åˆ— View æ²’æœ‰è¾¦æ³•åšåˆ°çš„äº‹æƒ…ï¼š</p>
<ol>
<li>Order By ç­‰ SQL èªæ³•</li>
<li>Parameters åƒæ•¸ï¼Œè®“ Stored Prcocedure CRUD æœ‰è‘—æ›´ç‚ºå½ˆæ€§çš„é‡è¤‡ä½¿ç”¨ä¾¿åˆ©</li>
<li>å¤šå€‹ Select èªæ³•ä¸¦æ­é… Temporary Table ä¾†è¨­è¨ˆæŸ¥è©¢</li>
</ol>
<p>åœ¨è¨­è¨ˆ Stored Procedure å¸¸æœƒé–‹é ­æ­é… <strong>SET NOCOUNT ON</strong> ä¾†é¿å…ç„¡é—œçš„è³‡è¨Šé¡¯ç¤ºï¼Œåœ¨éŒ¯èª¤æç¤ºä¸Šæ‡‰ä½¿ç”¨ <strong>RAISEERROR()</strong> å‡½å¼ä¾†é€šçŸ¥ï¼Œè€Œéä½¿ç”¨ <strong>PRINT</strong>ã€‚</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> AddNumbers
   <span class="token variable">@N1</span> <span class="token keyword">smallint</span><span class="token punctuation">,</span>
   <span class="token variable">@N2</span> <span class="token keyword">smallint</span><span class="token punctuation">,</span>
   <span class="token variable">@SUM</span> <span class="token keyword">smallint</span> OUTPUT
<span class="token keyword">AS</span>
  <span class="token keyword">SET</span> NOCOUNT <span class="token keyword">ON</span><span class="token punctuation">;</span>
   <span class="token keyword">SET</span> <span class="token variable">@SUM</span> <span class="token operator">=</span> <span class="token variable">@N1</span> <span class="token operator">+</span> <span class="token variable">@N2</span>
GO

<span class="token keyword">Declare</span> <span class="token variable">@Ans</span> <span class="token keyword">int</span>
<span class="token keyword">EXEC</span> AddNumbers <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token variable">@Ans</span> Output
<span class="token keyword">SELECT</span> <span class="token variable">@ANS</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="User-Defined-Function"><a href="#User-Defined-Function" class="headerlink" title="User Defined Function"></a>User Defined Function</h3><table>
<thead>
<tr>
<th>FunctionType</th>
<th>Usage</th>
</tr>
</thead>
<tbody><tr>
<td>Scalar</td>
<td>å›å‚³å–®ä¸€å€¼</td>
</tr>
<tr>
<td>Table-Valued</td>
<td>å›å‚³è³‡æ–™è¡¨ï¼Œå¯ä»¥åšç‚º FROM çš„ä¾†æº</td>
</tr>
<tr>
<td>Multistatement Table-Valued</td>
<td>è‡ªè¡Œçµ„å»ºè³‡æ–™è¡¨ä¸¦å›å‚³</td>
</tr>
</tbody></table>
<h3 id="Trigger"><a href="#Trigger" class="headerlink" title="Trigger"></a>Trigger</h3><p>Trigger å¤ªå¤šæœƒæ‹–æ…¢è³‡æ–™åº«çš„å¯«å…¥ã€æ›´æ–°ã€‚ä½† Trigger é©åˆç”¨æ–¼è³‡æ–™åˆ—å…§å®¹ä¿®æ”¹æ™‚ï¼Œè‡ªå‹•æ›´æ–°æ¬„ä½æœ€å¾Œç•°å‹•æ™‚é–“çš„ä½¿ç”¨æƒ…å¢ƒã€‚</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Usage</th>
</tr>
</thead>
<tbody><tr>
<td>Update Trigger</td>
<td>Trigger</td>
<td>åœ¨è³‡æ–™è¢«æ›´æ–°æ™‚è§¸ç™¼ï¼Œé€²è¡Œè³‡æ–™çš„ä¿®æ”¹ï¼Œå¯ç”¨æ–¼ä¿®æ”¹ç·¨è¼¯æ™‚é–“ç­‰</td>
</tr>
<tr>
<td>Instead Of Trigger</td>
<td>Trigger</td>
<td>ä¿®æ”¹æ¬„ä½è€Œéåˆªé™¤è³‡æ–™</td>
</tr>
</tbody></table>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TRIGGER</span> del_ins_trigger1
   <span class="token keyword">ON</span>  <span class="token punctuation">[</span><span class="token keyword">Order</span> details<span class="token punctuation">]</span>
   instead <span class="token keyword">of</span> <span class="token keyword">delete</span>
<span class="token keyword">AS</span> 
<span class="token keyword">BEGIN</span>
	<span class="token keyword">SET</span> NOCOUNT <span class="token keyword">ON</span><span class="token punctuation">;</span>
	<span class="token keyword">update</span> <span class="token punctuation">[</span><span class="token keyword">Order</span> Details<span class="token punctuation">]</span> <span class="token keyword">set</span> deleted <span class="token operator">=</span> <span class="token number">1</span>
	<span class="token keyword">from</span> <span class="token punctuation">[</span><span class="token keyword">Order</span> Details<span class="token punctuation">]</span> <span class="token keyword">as</span> od <span class="token keyword">inner</span> <span class="token keyword">join</span> deleted <span class="token keyword">as</span> d
	<span class="token keyword">on</span> od<span class="token punctuation">.</span>OrderID <span class="token operator">=</span> d<span class="token punctuation">.</span>OrderID <span class="token operator">and</span> od<span class="token punctuation">.</span>ProductID <span class="token operator">=</span> d<span class="token punctuation">.</span>ProductID
<span class="token keyword">END</span>
GO<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="In-Memory-Table"><a href="#In-Memory-Table" class="headerlink" title="In-Memory Table"></a>In-Memory Table</h3><p>è—‰ç”±å°‡è³‡æ–™è¡¨å„²å­˜æ–¼è¨˜æ†¶é«”ä¸­ï¼Œé”åˆ°æ¥µå¿«é€Ÿçš„è³‡æ–™è®€å–èˆ‡å¯«å…¥é€Ÿåº¦ï¼Œå°¤å…¶é©åˆéœ€è¦å¤§é‡å¯«å…¥ä»¥åŠåˆªé™¤è³‡æ–™çš„è³‡æ–™è¡¨ä½¿ç”¨æƒ…å¢ƒã€‚</p>
<p>è€Œè¦è®“ In-Memory Table ç™¼æ®æœ€ä½³çš„æ•ˆèƒ½ï¼Œå¿…é ˆæ­é… <strong>Native StoredProcedures</strong>ã€‚</p>
<p>åœ¨ä½¿ç”¨æ™‚ï¼Œå¿…é ˆå…ˆå»ºç«‹ <strong>Memory Optimized Data</strong> çš„ FileGroupï¼Œåœ¨æ–¼è³‡æ–™åº«ä¸­åŠ å…¥æ–°çš„ Database Fileã€‚</p>
<p><img src="/assets/SQL-Server-In-Memory-Table-1.png"></p>
<p><img src="/assets/SQL-Server-In-Memory-Table-2.png"></p>
<p>å»ºç«‹è³‡æ–™è¡¨æ™‚ï¼Œå› ç‚º In-Memory Table ä¸æ”¯æ´ Clustered Primary Key ï¼Œå› æ­¤ Primary Key å¿…é ˆæŒ‡å®šç‚º NonClusteredã€‚</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">USE</span> MemDemo
GO
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> dbo<span class="token punctuation">.</span>MemoryTable
<span class="token punctuation">(</span>id <span class="token keyword">INTEGER</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">NONCLUSTERED</span> <span class="token keyword">HASH</span> <span class="token keyword">WITH</span> <span class="token punctuation">(</span>BUCKET_COUNT <span class="token operator">=</span> <span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 date_value <span class="token keyword">DATETIME</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span>
<span class="token keyword">WITH</span> <span class="token punctuation">(</span>MEMORY_OPTIMIZED <span class="token operator">=</span> <span class="token keyword">ON</span><span class="token punctuation">,</span> DURABILITY <span class="token operator">=</span> SCHEMA_AND_DATA<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä¸‹è¡¨ç‚ºä½œç‚ºå°ç…§ç”¨çš„ Table ä½¿ç”¨ Disk Filegroopã€‚</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> dbo<span class="token punctuation">.</span>DiskTable
<span class="token punctuation">(</span>id <span class="token keyword">INTEGER</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">NONCLUSTERED</span><span class="token punctuation">,</span>
 date_value <span class="token keyword">DATETIME</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>åœ¨æ•ˆèƒ½çš„é©—è­‰ä¸Šï¼ŒDisk Table å¤§ç´„èŠ±è²» 10 ç§’å®Œæˆè³‡æ–™å¯«å…¥ï¼›Memory Optimized Table å‰‡ç´„ 5 ç§’ã€‚</p>
<p><strong>Memory Optimized</strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">BEGIN</span> <span class="token keyword">TRAN</span>
	<span class="token keyword">DECLARE</span> <span class="token variable">@Memid</span> <span class="token keyword">int</span> <span class="token operator">=</span> <span class="token number">1</span>
	<span class="token keyword">WHILE</span> <span class="token variable">@Memid</span> <span class="token operator">&lt;=</span> <span class="token number">500000</span>
	<span class="token keyword">BEGIN</span>
		<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> dbo<span class="token punctuation">.</span>MemoryTable <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token variable">@Memid</span><span class="token punctuation">,</span> GETDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">SET</span> <span class="token variable">@Memid</span> <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span>
	<span class="token keyword">END</span>
<span class="token keyword">COMMIT</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>Disk</strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">BEGIN</span> <span class="token keyword">TRAN</span>
	<span class="token keyword">DECLARE</span> <span class="token variable">@Diskid</span> <span class="token keyword">int</span> <span class="token operator">=</span> <span class="token number">1</span>
	<span class="token keyword">WHILE</span> <span class="token variable">@Diskid</span> <span class="token operator">&lt;=</span> <span class="token number">500000</span>
	<span class="token keyword">BEGIN</span>
		<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> dbo<span class="token punctuation">.</span>DiskTable <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token variable">@Diskid</span><span class="token punctuation">,</span> GETDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">SET</span> <span class="token variable">@Diskid</span> <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span>
	<span class="token keyword">END</span>
<span class="token keyword">COMMIT</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ç¢ºèªç›®å‰ MemoryTable çš„è³‡è¨Šï¼š</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> o<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> m<span class="token punctuation">.</span><span class="token operator">*</span>
<span class="token keyword">FROM</span>
  sys<span class="token punctuation">.</span>dm_db_xtp_table_memory_stats m
<span class="token keyword">JOIN</span> sys<span class="token punctuation">.</span>sysobjects o
  <span class="token keyword">ON</span> m<span class="token punctuation">.</span>object_id <span class="token operator">=</span> o<span class="token punctuation">.</span>id<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="https://i.imgur.com/ooTIL6s.png"></p>
<p>è€Œä¸€æ—¦çµåˆ Native Stored Procedure å¾Œï¼Œå¯ä»¥å¾—åˆ° ms ç­‰ç´šçš„å®Œæˆé€Ÿåº¦ï¼Œç”šè‡³å°‡è¦æ¨¡æ”¾å¤§ç‚º 5,000,000 ä¹Ÿåªéœ€è¦ç´„ 4 ç§’ğŸ˜®</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> dbo<span class="token punctuation">.</span>InsertData
	<span class="token keyword">WITH</span> NATIVE_COMPILATION<span class="token punctuation">,</span> SCHEMABINDING<span class="token punctuation">,</span> <span class="token keyword">EXECUTE</span> <span class="token keyword">AS</span> OWNER
<span class="token keyword">AS</span>
<span class="token keyword">BEGIN</span> ATOMIC <span class="token keyword">WITH</span> <span class="token punctuation">(</span><span class="token keyword">TRANSACTION</span> <span class="token keyword">ISOLATION</span> <span class="token keyword">LEVEL</span> <span class="token operator">=</span> <span class="token keyword">SNAPSHOT</span><span class="token punctuation">,</span> <span class="token keyword">LANGUAGE</span> <span class="token operator">=</span> <span class="token string">'us_english'</span><span class="token punctuation">)</span>
	<span class="token keyword">DECLARE</span> <span class="token variable">@Memid</span> <span class="token keyword">int</span> <span class="token operator">=</span> <span class="token number">1</span>
	<span class="token keyword">WHILE</span> <span class="token variable">@Memid</span> <span class="token operator">&lt;=</span> <span class="token number">500000</span>
	<span class="token keyword">BEGIN</span>
		<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> dbo<span class="token punctuation">.</span>MemoryTable <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token variable">@Memid</span><span class="token punctuation">,</span> GETDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">SET</span> <span class="token variable">@Memid</span> <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span>
	<span class="token keyword">END</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>

<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> dbo<span class="token punctuation">.</span>MemoryTable
<span class="token keyword">EXEC</span> dbo<span class="token punctuation">.</span>InsertData<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="SQL-Server-FileStream"><a href="#SQL-Server-FileStream" class="headerlink" title="SQL Server FileStream"></a>SQL Server FileStream</h3><p>ğŸ¸ å¦‚ä½•ä½¿ç”¨ FileStream ä¸¦çµåˆ FileGroup çš„è¨­å®šï¼Œè®“æ‡‰ç”¨ç¨‹å¼å¯ä»¥å°‡ BLOB æª”æ¡ˆå„²å­˜æ–¼è³‡æ–™åº«ä¼ºæœå™¨çš„ FileSystemï¼Œä¸¦ä½¿ç”¨ FileTable ä¾†ç®¡ç†æª”æ¡ˆçš„ç•°å‹•ç´€éŒ„ã€‚</p>
<h3 id="SQL-Server-Concurrency"><a href="#SQL-Server-Concurrency" class="headerlink" title="SQL Server Concurrency"></a>SQL Server Concurrency</h3><p>é‡æ¸… Share Lockã€Update Lockã€Exclusive Lock ä»¥åŠ Intent Lockã€‚</p>
<p>å¾äº¤æ˜“æ©Ÿåˆ¶å»è§£æ±º Lock å•é¡Œã€‚</p>
<p>ğŸ’¡ è³‡æ–™åº«æ‡‰è©²é–‹å§‹ Read_Committed_SnapShot è¨­å®šï¼Œé¿å…æŸ¥è©¢ä¸Šçš„ Lockã€‚</p>
<h3 id="å†·çŸ¥è­˜"><a href="#å†·çŸ¥è­˜" class="headerlink" title="å†·çŸ¥è­˜"></a>å†·çŸ¥è­˜</h3><ol>
<li>SQL Server å¦‚ä½•å¯¦ä½œ .NET ç‰©ä»¶ ä»¥åŠè¼‰å…¥ ASSEMBLY</li>
<li>Spacial Data Type</li>
</ol>
<h2 id="Terms"><a href="#Terms" class="headerlink" title="Terms"></a>Terms</h2><dl>
  <dt>Foreign Key</dt>
  <dd>...</dd>
  <dt>Surrogate Key</dt>
  <dd>...</dd>
  <dt>Seek</dt>
  <dd>...</dd>
  <dt>Scan</dt>
  <dd>...</dd>
  <dt>ColumnStore Index</dt>
  <dd>...</dd>
  <dt>Clustered Index</dt>
  <dd>...</dd>
  <dt>NonClustered Index</dt>
  <dd>...</dd>
  <dt>Query Store</dt>
  <dd>...</dd>
  <dt>Database Engine Tuning Advisor</dt>
  <dd>...</dd>
  <dt>Excution Plans</dt>
  <dd>...</dd>
  <dt>Heaps</dt>
  <dd>...</dd>
  <dt>Composite Indexes</dt>
  <dd>...</dd>
  <dt>Temporal Tables</dt>
  <dd>...</dd>
  <dt>Temorary Tables</dt>
  <dd>...</dd>
  <dt>Index Fragmentation</dt>
  <dd>...</dd>
  <dt>Covering Index</dt>
  <dd>...</dd>
  <dt>Fill Factor</dt>
  <dd>...</dd>
  <dt>Pad Index</dt>
  <dd>...</dd>
  <dt>Constraints</dt>
  <dd>...</dd>
  <dt>Dynamic Management Views</dt>
  <dd>...</dd>
  <dt>Catalog Views</dt>
  <dd>...</dd>
</dl>

<h3 id="è³‡æ–™åº«ç‰©ä»¶"><a href="#è³‡æ–™åº«ç‰©ä»¶" class="headerlink" title="è³‡æ–™åº«ç‰©ä»¶"></a>è³‡æ–™åº«ç‰©ä»¶</h3><table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Usage</th>
</tr>
</thead>
<tbody><tr>
<td>Indexed View</td>
<td>View</td>
<td>å¯¦é«”åŒ–çš„ Viewï¼Œå¢åŠ æŸ¥è©¢æ•ˆç‡ï¼Œä»¥å„²å­˜ç©ºé–“ç‚ºæˆæœ¬</td>
</tr>
<tr>
<td>Partitino View</td>
<td>View</td>
<td>åˆ©ç”¨ UNION ALL å°‡ View åˆ†æ•£åœ¨å¤šè³‡æ–™åº«ã€ä¼ºæœå™¨</td>
</tr>
<tr>
<td>Simple Select</td>
<td>Stored Procedures</td>
<td>ç›¸è¼ƒæ–¼ View æ”¯æ´ Order By</td>
</tr>
<tr>
<td>Parametered</td>
<td>Stored Procedures</td>
<td>å¯ä»¥ä½¿ç”¨åƒæ•¸çš„æ–¹å¼å‚³å…¥è³‡æ–™</td>
</tr>
<tr>
<td>Result</td>
<td>Stored Procedures</td>
<td>å¯ä»¥å°‡çµæœä¿å­˜ä¸¦é€²è¡Œå›å‚³</td>
</tr>
<tr>
<td>Cross DB</td>
<td>Stored Procedures</td>
<td>éœ€è¦æ³¨æ„ Permissions çš„å•é¡Œ</td>
</tr>
<tr>
<td>Scalar</td>
<td>Function</td>
<td>å¯ä»¥å›å‚³å–®ä¸€æ•¸å€¼ï¼Œéœ€è¦æ³¨æ„ Loop æ•ˆèƒ½å•é¡Œ</td>
</tr>
<tr>
<td>Table-Valued</td>
<td>Function</td>
<td>å¯ä»¥å°‡çµæœå›å‚³ç‚º Tableï¼Œåªèƒ½å–®ä¸€ Select</td>
</tr>
<tr>
<td>Multistatements Table-Valued</td>
<td>Function</td>
<td>è‡ªè¡Œå®šç¾©ç©ºç™½ Table ä¸¦ä½¿ç”¨å¤šçµ„ Select å¡«å……è³‡æ–™å¾Œå›å‚³ Table</td>
</tr>
</tbody></table>
<h2 id="ç›¸é—œé€£çµ"><a href="#ç›¸é—œé€£çµ" class="headerlink" title="ç›¸é—œé€£çµ"></a>ç›¸é—œé€£çµ</h2><p><a href="/posts/2021/04/SQL-Server-SSIS-Glimpse/">SQL Server Integrated Service åˆæ¢</a></p>
<p><a href="/posts/2020/12/SQL-Server-Query-Professionally/">SQL Server é–ƒé›»èˆ¬å¿«é€ŸæŸ¥è©¢æŒ‡å—âš¡</a></p>
<p><a href="/posts/2020/12/SQL-Server-Tools/">SQL Server å‘¨é‚Šå·¥å…·å½™æ•´ç­†è¨˜</a></p>
<p><a href="/posts/2020/11/SQL-Server-Instructor-Led-Course/">SQL Server å­¸ç¿’è³‡æºç­†è¨˜</a></p>

      

    </div>
    <footer class="article-footer">
      <a data-url="https://sdwh.dev/posts/2021/11/SQL-Server-Developing-SQL-Databases/" data-id="clwev88fy01iw0ktsacgs3qpk" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Database/" rel="tag">Database</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQLServer/" rel="tag">SQLServer</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/posts/2021/11/SQL-Server-XML-Data/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">SQL Server XML Data (FOR XML / OPENXML)</div>
    </a>
    
    
  
    <a href="/posts/2021/11/ASPNET-MVC-Recall-Develop-Memory/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          ASP.NET MVC å›é‹é–‹ç™¼çš„åƒè€ƒç­†è¨˜
        
      </div>
    </a>
  

  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title widget-category-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Blog/">Blog</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Cloud/">Cloud</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/CyberSecurity/">CyberSecurity</a><span class="category-list-count">32</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Database/">Database</a><span class="category-list-count">149</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Design/">Design</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Dev/">Dev</a><span class="category-list-count">265</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Docker/">Docker</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/EngDiary/">EngDiary</a><span class="category-list-count">34</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/IIS/">IIS</a><span class="category-list-count">42</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/LearningNote/">LearningNote</a><span class="category-list-count">24</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/LifeHack/">LifeHack</a><span class="category-list-count">17</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Microsoft/">Microsoft</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Misc/">Misc</a><span class="category-list-count">51</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mobile/">Mobile</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Network/">Network</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/News/">News</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS/">OS</a><span class="category-list-count">74</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Office/">Office</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/PowerBI/">PowerBI</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Resource/">Resource</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Toys/">Toys</a><span class="category-list-count">23</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TroubleShooting/">TroubleShooting</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Vue/">Vue</a><span class="category-list-count">13</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title widget-archive-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/">2024</a><span class="archive-list-count">62</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/">2023</a><span class="archive-list-count">140</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/">2022</a><span class="archive-list-count">218</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/">2021</a><span class="archive-list-count">241</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/">2020</a><span class="archive-list-count">128</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      <!-- 2024 -->
      The Skeptical Software Engineer &copy; 2020 - <span class="margin-right"></span>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/apps" class="mobile-nav-link">Apps</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<!-- <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/highlight.min.js"></script> -->


  
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/autoloader/prism-autoloader.min.js"></script>

<script src="/js/script.js"></script>


<script src="/js/custom-script.js"></script>





<!-- <script>hljs.initHighlightingOnLoad();</script> -->
  </div>
</body>
</html>